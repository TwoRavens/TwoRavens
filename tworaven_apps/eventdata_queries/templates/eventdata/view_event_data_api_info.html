{% extends "base.html" %}
{% load static %}

  {% block main_content %}
  <div class="row">
    <div class="col-12 col-md-6">

      {% if user.is_authenticated %}
      <div class="alert alert-info" role="alert">
        Welcome, {{ user.username }}.
      </div>
      {% endif %}

      <!-- gRPC related -->
      <div class="card">
        <div class="card-header"><b>Save a Query</b></div>
        <div class="card-body">
            <ul>
              <li><b>Endpoint:</b> <code>{% url 'api_add_event_data_query' %}</code></li>
              <li><b>Method</b>: POST, JSON data expected</li>
              <li><b>Notes</b>:
                <ul>
                  <li>If not logged in, returns a `403` forbidden error</li>
                  <li>Saved under the name of the logged in user</li>
                  <li>Any extra fields sent in the request are ignored.  e.g. the older "username" will not trigger an error, simply be ignored.</li>
                </ul>
              </li>
              <li><b>Example</b>:
                <br />
                <pre><code>
    {
       "name": "User entered query name",
       "description": "In this query I am ...."
       "query": [ "... mongo query, either list or dict ..." ],
       "collection_name": "acled_africa",
       "collection_type": "subset",
       "result_count": 161939,
    }
            </code></pre>
              </li>
            </ul>
        </div>
      </div>

      <br />
      <div class="card">
        <div class="card-header"><b>List a User's Queries</b></div>
        <div class="card-body">
          <li><b>Endpoint:</b>
              <code>{% url 'api_get_event_data_queries' %}</code></li>
          <li><b>Test:</b>
              <a href="{% url 'api_get_event_data_queries' %}?pretty">{% url 'api_get_event_data_queries' %}</a>

          <li><b>Method</b>: GET</li>
          <li><b>Notes</b>:
            <ul>
              <li>If not logged in, returns a `403` forbidden error</li>
              <li>Returns queries saved by the logged in user</li>
            </ul>
          </li>
          <li><b>Example</b>:
            <br />
            <pre><code>
{
   "name": "User entered query name",
   "description": "In this query I am ...."
   "query": [ "... mongo query, either list or dict ..." ],
   "collection_name": "acled_africa",
   "collection_type": "subset",
   "result_count": 161939,
}
        </code></pre>
          </li>
        </ul>
    </div>
  </div>

      <br />
      <!-- Health/Monitoring checks -->
      <div class="card">
        <div class="card-header"><b>Health/Monitoring checks</b></div>
        <div class="card-body">
          <ul>
            <li><b>python app:</b> <a href="{% url 'view_monitoring_alive' %}">{% url 'view_monitoring_alive' %}</a></li>
            </li>

            <li><b>rook app:</b> <a href="{% url 'view_rook_route' 'healthcheckapp' %}">{% url 'view_rook_route' 'healthcheckapp' %}</a></li>
            </li>
          </ul>
        </div>
      </div>
      <br />
      <!-- Error pages -->
      <div class="card">
        <div class="card-header"><b>Error pages</b></div>
        <div class="card-body">
          <ul>
            <li><a href="{% url 'view_no_domain_config_error_test' %}">App/UI config error (test page)</a>
              <p>(normally triggered when in no AppConfiguration entries exist--e.g. app doesn't know which domain to use)</p></li>
            <li><a href="{% url 'view_d3m_config_error_test' %}">D3M config error (test page)</a>
              <p>(normally triggered when in D3M mode but no D3M configs are loaded)</p></li>

            <hr />

            <li><a href="/aint-nothing-here-404">404 trigger</a> (shows formatted page in production)</li>
            <li><a href="{% url 'view_err_500_test' %}">500 trigger</a> (shows formatted page in production)</li>
          </ul>
        </div>
      </div>
    </div><!-- end: column -->
    <!-- start: column -->
    <div class="col-12 col-md-6">



      <!-- D3M config info -->
      <div class="card">
        <div class="card-header"><b>D3M config info</b></div>
        <div class="card-body">
          <ul>
            <li><a href="{% url 'view_d3m_list' %}">
                  D3M configs in the database</a>
                  <p>Includes API endpoints to retrieve JSON config info,
                  dataset schema file contents, problem schema file contents, etc.</p>
              </li>
          </ul>
        </div>
      </div>
      <br />
      <!-- Registration related -->
      <div class="card">
        <div class="card-header"><b>Registration related</b></div>
        <div class="card-body">
          <ul>
            <li><a href="{% url 'signup' %}">Sign Up</a></li>
            <li><a href="{% url 'login' %}">Log in</a></li>
            <li><a href="{% url 'logout' %}?next=/">Log out</a> (forwards to login)</li>
            <li><a href="{% url 'password_reset' %}">Forgot password</a> (enter email)</li>
            <li><a href="{% url 'password_reset_done' %}">Password reset instructions</a> (after submitting email)</li>
          </ul>
        </div>
      </div>

      <!-- Test/in process -->
      <br />
      <div class="card">
        <div class="card-header"><b>Test/in process</b></div>
        <div class="card-body">
          <ul>
            <li><a href="{% url 'view_workspace_info' %}">view workspace info</a></li>
          </ul>
          <ul>
            <li><a href="/static/pkgs/swagger-ui/dist/index.html?url={% url 'view_swagger_doc_v1' %}">swagger ui</a> </li>
            <li><a href="{% url 'view_swagger_doc_v1' %}">swagger spec v1</a></li>

          </ul>

        </div>
      </div>
      <br />
    </div><!-- end: column -->
{% endblock %}
