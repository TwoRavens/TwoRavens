{% extends 'base.html' %}
{% load render_bundle from webpack_loader %}
{% load static %}

{% block extra_js %}
    <script>
        {% if app_config %}
          // ----------------------------
          // global js settings from db
          // ----------------------------
          /*
            -- {{ app_config.name }} --
            {% if app_config.description %}{{ app_config.description }}{% endif %}
          */
          const rappURL = '{{ app_config.rook_app_url }}';
          const DATAVERSE_URL = '{{ app_config.dataverse_url }}';
          const production = {{ app_config.production }};
          const privacyMode = {{ app_config.privacy_mode }};
          const d3m_mode = {{ app_config.d3m_mode }};
          const d3mURL = '{{ app_config.d3m_url }}';
        {% else %}
          // ----------------------------
          // default settings if nothing in db
          //  - see /templates/index.html to set manually
          // ----------------------------
          const rappURL = '/rook-custom/'; // via Django -> to RApache/rook
          //let rappURL = 'http://0.0.0.0:8000/custom/'; // Direct to RApache/rook
          const DATAVERSE_URL = 'https://beta.dataverse.org';
          const production = false;
          const privacyMode = false;        // configure default functionality for PSI tool
          const d3m_mode = false;             // configure default functionality for d3m
          const d3mURL = '/d3m-service/'; // via Django -> TA2
        {% endif %}
    </script>
  {% endblock %}

  {% block body_content %}
      {% render_bundle 'main' 'js' %}
  {% endblock %}
